<div class="p-4 md:p-6 bg-gradient-to-br from-blue-500 via-cyan-500 to-sky-400 min-h-screen">
  <div class="max-w-7xl mx-auto">
    <!-- Header -->
    <div class="flex flex-col md:flex-row md:items-center md:justify-between mb-6">
      <h2 class="text-2xl font-bold text-white mb-3 md:mb-0">Manage Drivers</h2>
      <button
        (click)="openForm()"
        class="px-4 py-2 bg-white text-blue-600 font-semibold rounded-lg shadow-md hover:bg-blue-50 transition"
      >
        + Add Driver
      </button>
    </div>

    <!-- Driver List -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4">
      <div
        *ngFor="let driver of drivers"
        class="bg-white bg-opacity-80 backdrop-blur-lg rounded-xl shadow-md p-4 hover:shadow-lg transition"
      >
        <div class="flex justify-between items-center">
          <h3 class="text-lg font-semibold text-blue-700">{{ driver.name }}</h3>
          <span
            class="text-sm px-2 py-1 rounded-full"
            [ngClass]="{
              'bg-green-100 text-green-700': driver.status === 'Available',
              'bg-yellow-100 text-yellow-700': driver.status === 'On Duty'
            }"
          >
            {{ driver.status }}
          </span>
        </div>

        <div class="mt-2 text-gray-700 text-sm">
          <p><strong>License No:</strong> {{ driver.licenseNo }}</p>
          <p><strong>Contact:</strong> {{ driver.contact }}</p>
          <p><strong>Experience:</strong> {{ driver.experience }} Years</p>
          <p><strong>Address:</strong> {{ driver.address }}</p>
          <p><strong>Added On:</strong> {{ driver.dateAdded | date }}</p>
        </div>

        <div class="flex justify-between mt-4">
          <div class="flex space-x-2">
            <button
              (click)="callDriver(driver.contact)"
              class="px-3 py-1 text-sm bg-green-500 text-white rounded-md hover:bg-green-600"
            >
              ðŸ“ž Call
            </button>
            <button
              (click)="whatsappDriver(driver.contact)"
              class="px-3 py-1 text-sm bg-green-700 text-white rounded-md hover:bg-green-800"
            >
              ðŸ’¬ WhatsApp
            </button>
          </div>
          <div class="flex space-x-2">
            <button
              (click)="editDriver(driver)"
              class="px-3 py-1 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600"
            >
              Edit
            </button>
            <button
              (click)="deleteDriver(driver)"
              class="px-3 py-1 text-sm bg-red-500 text-white rounded-md hover:bg-red-600"
            >
              Delete
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Add/Edit Form Modal -->
    <div
      *ngIf="showForm"
      class="fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50 z-[9999]"
    >
      <div class="bg-white rounded-xl p-6 w-11/12 sm:w-3/4 md:w-1/2 lg:w-1/3 shadow-2xl">
        <h3 class="text-xl font-semibold text-blue-700 mb-4">
          {{ editingDriver ? 'Edit Driver' : 'Add Driver' }}
        </h3>

        <form (ngSubmit)="saveDriver()">
          <div class="grid grid-cols-1 gap-3">
            <input
              type="text"
              placeholder="Driver Name"
              [(ngModel)]="driverForm.name"
              name="name"
              class="p-2 border border-gray-300 rounded-md w-full text-gray-700"
              required
            />

            <input
              type="text"
              placeholder="License Number"
              [(ngModel)]="driverForm.licenseNo"
              name="licenseNo"
              class="p-2 border border-gray-300 rounded-md w-full text-gray-700"
              required
            />

            <input
              type="text"
              placeholder="Contact Number"
              [(ngModel)]="driverForm.contact"
              name="contact"
              class="p-2 border border-gray-300 rounded-md w-full text-gray-700"
              required
            />

            <input
              type="number"
              placeholder="Experience (Years)"
              [(ngModel)]="driverForm.experience"
              name="experience"
              class="p-2 border border-gray-300 rounded-md w-full text-gray-700"
            />

            <input
              type="text"
              placeholder="Address"
              [(ngModel)]="driverForm.address"
              name="address"
              class="p-2 border border-gray-300 rounded-md w-full text-gray-700"
            />

            <select
              [(ngModel)]="driverForm.status"
              name="status"
              class="p-2 border border-gray-300 rounded-md w-full text-gray-700"
              required
            >
              <option value="Available">Available</option>
              <option value="On Duty">On Duty</option>
            </select>
          </div>

          <div class="flex justify-end mt-4 space-x-3">
            <button
              type="button"
              (click)="closeForm()"
              class="px-4 py-2 bg-gray-300 rounded-md hover:bg-gray-400"
            >
              Cancel
            </button>
            <button
              type="submit"
              class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"
            >
              Save
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
